(this["webpackJsonpben-app"]=this["webpackJsonpben-app"]||[]).push([[0],{29:function(t,e,a){},30:function(t,e,a){},51:function(t,e,a){"use strict";a.r(e);var s=a(2),n=a.n(s),c=a(20),r=a.n(c),i=(a(29),a(30),a(6)),d=a.n(i),h=a(8),o=a(10),l=a(11),u=a(21),v=a(22),p=a(5),f=a(24),j=a(23),b=a(3),g=a.n(b),w=a(0),I=function(t){Object(f.a)(a,t);var e=Object(j.a)(a);function a(t){var s;return Object(u.a)(this,a),(s=e.call(this,t)).state={start:!1,datasetId:"",vehicleIds:[],vehicles:[],dealerIds:[],dealers:[],answer:"Loading...",success:"",message:"",hasRun:!1},s.handleStart=s.handleStart.bind(Object(p.a)(s)),s.runAnswer=s.runAnswer.bind(Object(p.a)(s)),s}return Object(v.a)(a,[{key:"handleStart",value:function(){var t=Object(l.a)(d.a.mark((function t(){var e,a,s,n,c,r=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({start:!0,answer:"Getting datasetId..."}),t.next=3,g.a.get("https://api.coxauto-interview.com/api/datasetId").then((function(t){return t.data}));case 3:return e=t.sent,this.setState({datasetId:e.datasetId,answer:"Getting vehicleIds..."}),t.next=7,g.a.get("https://api.coxauto-interview.com/api/".concat(this.state.datasetId,"/vehicles")).then((function(t){return t.data}));case 7:a=t.sent,this.setState({vehicleIds:a.vehicleIds,answer:"Getting vehicles and dealers..."}),s=Object(o.a)(this.state.vehicleIds);try{for(s.s();!(n=s.n()).done;)c=n.value,g.a.get("https://api.coxauto-interview.com/api/".concat(this.state.datasetId,"/vehicles/").concat(c)).then((function(t){var e=t.data;r.state.dealerIds.indexOf(e.dealerId)<0&&(r.setState({dealerIds:[].concat(Object(h.a)(r.state.dealerIds),[e.dealerId])}),g.a.get("https://api.coxauto-interview.com/api/".concat(r.state.datasetId,"/dealers/").concat(e.dealerId)).then((function(t){r.setState({dealers:[].concat(Object(h.a)(r.state.dealers),[t.data])}),9===r.state.vehicles.length&&3===r.state.dealers.length&&!1===r.state.hasRun&&(r.setState({hasRun:!0}),r.runAnswer())}))),r.setState({vehicles:[].concat(Object(h.a)(r.state.vehicles),[e])}),9===r.state.vehicles.length&&3===r.state.dealers.length&&!1===r.state.hasRun&&(r.setState({hasRun:!0}),r.runAnswer())}))}catch(i){s.e(i)}finally{s.f()}case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"runAnswer",value:function(){var t=Object(l.a)(d.a.mark((function t(){var e,a,s,n,c,r,i,h,l=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({answer:"Posting answer..."}),e=Object(o.a)(this.state.dealers);try{for(s=function(){var t=a.value,e=l.state.vehicles.filter((function(e){return e.dealerId===t.dealerId}));t.vehicles=e},e.s();!(a=e.n()).done;)s()}catch(d){e.e(d)}finally{e.f()}return n={dealers:this.state.dealers},t.next=6,g.a.post("https://api.coxauto-interview.com/api/".concat(this.state.datasetId,"/answer"),n).then((function(t){return t.data}));case 6:c=t.sent,r="Total Milliseconds: ".concat(c.totalMilliseconds),i="Success: ".concat(c.success),h="Message: ".concat(c.message),this.setState({answer:r,success:i,message:h});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(w.jsx)("div",{children:this.state.start?Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:this.state.success}),Object(w.jsx)("h2",{children:this.state.message}),Object(w.jsx)("h2",{children:this.state.answer})]}):Object(w.jsx)("button",{onClick:this.handleStart,children:"Start Program"})})}}]),a}(n.a.Component);var O=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)("header",{className:"App-header",children:Object(w.jsx)(I,{})})})},x=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,52)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),s(t),n(t),c(t),r(t)}))};r.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(O,{})}),document.getElementById("root")),x()}},[[51,1,2]]]);
//# sourceMappingURL=main.0be6710c.chunk.js.map